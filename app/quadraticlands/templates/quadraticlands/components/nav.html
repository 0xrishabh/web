{% comment %}
  Copyright (C) 2020 Gitcoin Core

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published
  by the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program. If not, see <http://www.gnu.org/licenses/>.
{% endcomment %}

{% load i18n static matches cookielaw_tags %}


<header>

  <!-- logo-->
  <div class="logo">
    <a href="/quadraticlands/">
      {% include "quadraticlands/_inlinesvg/ql.svg" %}
    </a>
  </div>


  <!-- nav -->
  <nav>

    <!-- links / burger menue -->
    <div id="nav-links" >
      <div id="burger">
        {% include "quadraticlands/_inlinesvg/burger.svg" %}
      </div>


      <ul>

        <a href="/quadraticlands/about" class="particleAttract"
        {% if "about" in request.path %} aria-current="page" {% endif %}
        ><li>About</li></a>

        <a href="/quadraticlands/mission" class="particleAttract" 
        {% if "mission" in request.path %} aria-current="page" {% endif %}
        >
          <li>Mission</li>
        </a>

      </ul>


    </div>


   {% if user.is_authenticated %}

    <!-- user avatar / username -->
    <div id="nav-user" class="particleAttract" >
      <a href="/quadraticlands/dashboard">
        <div>
            <img src="/dynamic/avatar/{{user.username}}" >
            <span>{{user.username}}</span>
        </div>
      </a>
    </div>

    <!-- default wallet button / wallet status
    what TRIGGER another div to pop up (components/wallet-provider.html) -->
    <div id="nav-wallet" class="">

      <!-- CLAIMABLE AMOUNT -->
      <!-- IF :  and not proof_of_receive and total_claimable_gtc != 0 -->
      {% if user.is_authenticated  %}
      <span class="claimable"><a href="/quadraticlands/mission">+ {{ total_claimable_gtc }}</a></span>
      {% endif %}

      <!-- USERS CURRENT TOKEN AMOUNT -->
      {% if user.is_authenticated  %}
      <span id="current_gtc" class="current hide"></span>
      {% endif %}

      <div id="noproviderIcon">
        {% include "quadraticlands/_inlinesvg/wallet.svg" %}
      </div>

      <!-- this will add an image inside this div, if a provider  -->
      <div id="navbarDropdownWallet"></div>

    </div>
  

    {% else %}

    <!-- sign in button -->
    <div id="nav-signin" class="particleAttract">
      <a href="{% url 'social:begin' 'github' %}?next={{ request.get_full_path }}" onclick="dataLayer.push({'event': 'login'});"
      class="btn sm">{% trans "Log in" %}</a>
    </div>

    {% endif %}
   
  </nav>



</header>




<script>

/* here in this script i need to find out how to 
fetch token amount from adress to show current
*/


document.addEventListener("DOMContentLoaded",function(){

  // wallet found
  window.addEventListener("dataWalletReady", () => {
    const current_gtc = document.getElementById("current_gtc");
    current_gtc.classList.remove("hide")

    current_gtc.innerHTML = "44444"
    console.log(selectedAccount)

    console.debug("CURRENT_GTC found")
  });

});

</script>












