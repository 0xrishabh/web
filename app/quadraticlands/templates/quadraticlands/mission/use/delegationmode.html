{% extends 'quadraticlands/components/base.html' %}
{% load humanize static i18n %}

{% block 'twittercard' %}
	<!-- twitter card -->
	<meta name="twitter:card" content="summary" />
	<meta name="twitter:site" content="@gitcoin" />
	<meta name="twitter:title" content="title" />
	<meta name="twitter:description" content="description" />
	<meta name="twitter:image" content="https://s.gitcoin.co/static/quadraticlands/twittercards/xxxxx.gif" />
	<!-- end twitter card -->
{% endblock %}


{% block 'content' %}

<!-- hide footer, header as this is a fullscreen experience -->
{% include 'quadraticlands/components/fullscreen.html' %}


<section class="background">
	<img src="/static/quadraticlands/images/background/anim-9.svg">
</section>


<section class="quest">

	<!-- select delegation mode -->
	<main>

		<div class="wrapper">

			<div class="quest-delegationmode glass">

				<div class="delegation-toggle">
					<div class="label">Delegation Mode</div>
					<div id="mode_toggle" data-mode="enabled" class="toggle enabled">
						<div class="enabled">Enabled</div>
						<div class="circle"></div>
						<div class="disabled">Disabled</div>
					</div>					
				</div>

				<p id="explain_text">I prefer to delegate my voting power to a Gitcoin Steward, so that I can earn a reward passively.</p>

			</div>

		</div>

	</main>


	<!-- timer / seperator -->
	<div class="seperator">
	</div>

	<!-- bottom navigation -->
	<nav class="glass">

		<div class="left">
			<a href="/quadraticlands/">Exit</a>
		</div>

		<div class="center">
			Proof of Use
		</div>

		<!-- button status -->
		<div class="right">

			<!-- intro - start voting process -->
			<div>
				<a id="btn_continue" class="btn">Continue</a>
			</div>

		</div>

	</nav>
	

</section>





{% endblock %}





{% block 'scripts' %}

<!--APP - burger menu, wallet menu, provider select, collapse, flashMessage-->
<script src="/static/quadraticlands/js/app.js"></script>

<!-- this page NEEDS a Wallet and will force the Web3Modal -->
<script src="/static/quadraticlands/js/forceWallet.js"></script>



<script>

document.addEventListener("DOMContentLoaded",function(){

	updateInterface("enabled")


	const mode_toggle = document.getElementById("mode_toggle")

	mode_toggle.addEventListener("click", () => {

		mode = mode_toggle.getAttribute("data-mode")
		
		if ( mode == "disabled")
		{
			mode_toggle.setAttribute("data-mode", "enabled");
			mode_toggle.classList.remove("disabled")
			mode_toggle.classList.add("enabled")
			updateInterface("enabled")
		}

		else 
		{
			mode_toggle.setAttribute("data-mode", "disabled");
			mode_toggle.classList.remove("enabled")
			mode_toggle.classList.add("disabled")
			updateInterface("disabled")
		}

		console.log (mode)

	});


});






/*********** VIEWS */

function updateInterface(status){

	const explain_text = document.getElementById("explain_text")
	const btn_continue = document.getElementById("btn_continue")

	// ENABLED
	if (status=="enabled")
	{
		explain_text.innerHTML = "I prefer to delegate my voting power to a Gitcoin Steward, so that I can earn a reward passively."
		btn_continue.href = "/quadraticlands/mission/use/delegate"
		console.debug("INTERFACE:ENABLED")
	}

	// DISABLED
	if (status=="disabled")
	{
		explain_text.innerHTML = "I want to use my voting power to actively participate in Gitcoinâ€™s governance and only earn a reward through my active participation."
		btn_continue.href = "/quadraticlands/mission/use/vote"
		console.debug("INTERFACE:ENABLED")
	}


}



</script>




{% endblock %}




