{% comment %}
Copyright (C) 2018 Gitcoin Core

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published
by the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program. If not, see
<http://www.gnu.org/licenses/>.
{% endcomment %}
{% load static avatar_tags i18n %}
{% load kudos_extras matches %}
{% include "ethdenver2019/base.html" %}
{% block style %}
<style type="text/css">
.ethdenver2019-kudos-img-widthfix {
  max-width: 250px !important;
  width: 250px !important;
 }
.ethdenver2019-prog-header {
  background-image: url("{% static 'v2/images/event_ethdenver2019/background.png' %}");
  background-size: 100% 100%;
}
.ethdenver2019-kudos-received-overlay {

    /* background: #000; */
    left: 46px;
    top: 8px;
    color: rgba(0,255,0,.75);
    display: inline-block;
    max-height: 250px; /* same as the biggest image*/
    opacity: 0.65;
    overflow: hidden;
    padding: 0 2px;
    position: absolute;
    width: 250px; /* same as the image*/
    font-size: 200px;

}
</style>
    <link rel="stylesheet" href="{% static "v2/css/kudos/styles.css" %}" />
  {% include 'shared/head.html' %}
  {% include 'shared/cards.html' %}
<script>
$(document).ready(function() {
  $('.flip-card').on('click keypress', e => {
    if ($(e.target).is('a')) {
      e.stopPropagation();
      return;
    }
    $(e.currentTarget).toggleClass('turn');
  });
});
</script>
{% endblock %}
{% block content %}
<div class="container">
  <div class="row text-center">
    <div class="ethdenver2019-prog-header col-12">
      <div class="container">
        <div class="row mt-4">
          <div class="col-12">
            <img src="{% static 'v2/images/event_ethdenver2019/ethdenver_logo.png' %}" class="rounded mx-auto d-block">
          </div>
        </div>
        <div class="row mt-5 mb-5">
          <div class="col-12">
            <div class="ethdenver2019-texts-headers">
              SET CHALLENGES
            </div>
          </div>
        </div>
        <div class="row mt-5 mb-5">
          <div class="col-12">
            <img src="{% avatar_url profile %}" width="100px" height="100px" class="circle-cutter">
          </div>
          <div class="col-12 ethdenver2019-texts-white">
            {{ profile.handle }}
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="ethdenver2019-kudos mt-4 mb-4 align-middle text-center">
    <div class="ethdenver2019-texts-headers ethdenver2019-texts-black">
      YOUR BUFFICORN KUDOS
    </div>
    <div class="ethdenver2019-texts-black mb-5">
      Click on each Kudos for more details.
    </div>

    <div class="container mt-5">
      {% for kudos_rows in kudos_selection %}
      <div class="row">
        {% for kudos in kudos_rows %}
<!--        <div class="col-3 ">
          <div class="row"><div class="col-12"><img src="{% static kudos.kudos.image %}" width="200px" height="200px" class="mb-2 received-equals-{{ kudos.received }}"></div></div>
          <div class="row"><div class="col-12">{{ kudos.kudos.humanized_name }}</div></div>

        </div>--!>

<div class="col-xs-12 col-sm-6 col-lg-3 mb-3">
    <div class="kd-card kd-extended flip-card" aria-haspopup="true" tabindex="0">
      <div class="flip-card__flipper">
        <div class="flip-card__hold flip-card__front">
          <div>
          <img src="{% static kudos.kudos.image %}" alt="{{ kudos.kudos.name|humanize_name }}" class="img-thumbnail border-transparent kd-shadow received-equals-{{ kudos.received }}" width="250">
          {% if kudos.received %}
          <!--<div class="ethdenver2019-kudos-received-overlay">
            <i class="fas fa-check-circle"></i>
          </div>--!>
          {% endif %}
            </div>
          <div class="kd-content">
            <div>
              <a href="/kudos/{{ kudos.kudos.id }}/{{ kudos.kudos.name }}" class="kd-title" title="{% trans 'Go to ' %}{{ kudos.kudos.name|humanize_name }}" tabindex="0">
                {{ kudos.kudos.name|humanize_name }} {% if kudos.received %}    <i class="fas fa-check-circle"></i>  {% endif %}

              </a>
            </div>
            <p>
              {{ kudos.kudos.description|truncatechars:60 }}
            </p>
          </div>
        </div>

        <div class="content-hover flip-card__hold flip-card__back">
          *hint hint*
        </div>
      </div>
    </div>
  </div>

        {% endfor %}
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
