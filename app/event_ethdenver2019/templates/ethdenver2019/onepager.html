{% comment %}
  Copyright (C) 2018 Gitcoin Core

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published
  by the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program. If not, see <http://www.gnu.org/licenses/>.
{% endcomment %}
{% load static avatar_tags i18n %}
{% load kudos_extras matches %}
{% load i18n static kudos_extras humanize avatar_tags trim %}
<!DOCTYPE HTML>
<html>
  <head>
    {% include 'shared/tag_manager_1.html' %}
    <title>{{title}} | ETHDenver 2019 | Gitcoin</title>
    <meta name="description" content="{{card_desc}}">
    <meta charset="utf-8" />
    <meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <script src="{% static "v2/js/jquery.js" %}"></script>
    <script src="{% static "v2/js/work_with_gitcoin.js" %}"></script>

    <link rel="stylesheet" href="{% static "v2/css/event_ethdenver2019/style.css" %}">
    <link rel="stylesheet" href="{% static "v2/css/fontawesome-all.min.css" %}">
    <link rel="stylesheet" href="{% static "v2/css/bootstrap.min.css" %}" crossorigin="anonymous">
    <style type="text/css">
     .ethdenver2019-nli-header {
        background-image: url("{% static 'v2/images/event_ethdenver2019/background.png' %}");
        background-size: 100% 100%;
     }
    </style>
    <style type="text/css">
      .ethdenver2019-kudos-img-widthfix {
        max-width: 250px !important;
        width: 250px !important;
       }
      .ethdenver2019-prog-header {
        background-image: url("{% static 'v2/images/event_ethdenver2019/background.png' %}");
        background-size: 100% 100%;
      }
      .ethdenver2019-kudos-received-overlay {

          /* background: #000; */
          left: 46px;
          top: 8px;
          color: rgba(0,255,0,.75);
          display: inline-block;
          max-height: 250px; /* same as the biggest image*/
          opacity: 0.65;
          overflow: hidden;
          padding: 0 2px;
          position: absolute;
          width: 250px; /* same as the image*/
          font-size: 200px;

      }
    </style>
    <link rel="stylesheet" href="{% static "v2/css/kudos/styles.css" %}" />
    {% include 'shared/favicon.html' %}
    {% include 'shared/head.html' %}
    {% include 'shared/cards.html' %}
    <script>
      $(document).ready(function() {
        $('.flip-card').on('click keypress', e => {
          if ($(e.target).is('a')) {
            e.stopPropagation();
            return;
          }
          $(e.currentTarget).toggleClass('turn');
        });
      });
    </script>
  </head>
  <body class="{{ class }} g-font-multi">
    <div class="container" id="page1">
      <div class="row text-center">
        <div class="ethdenver2019-nli-header col-12">
          <div class="container">
            <div class="row mt-4">
              <div class="col-12">
                <img src="{% static 'v2/images/event_ethdenver2019/ethdenver_logo.png' %}" class="rounded mx-auto d-block">
              </div>
            </div>
            <div class="row mt-5 mb-5">
              <div class="col-12">
                <div class="ethdenver2019-texts-headers">
                  SET CHALLENGES
                </div>
              </div>
            </div>
            <div class="row mt-5 mb-5">
              <div class="col-12">
                <div class="ethdenver2019-button-getstarted">
                  <div class="ethdenver2019-button-getstarted-text">
                    Get Started
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="ethdenver2019-nli-kudos mt-4 mb-4 align-middle text-center">
        &nbsp;<img src="{% static 'v2/images/event_ethdenver2019/collect_kudos.png' %}">
      </div>
      <div class="ethdenver2019-nli-prizes pb-5">
        <div class="row">
          <div class="col-12 ethdenver2019-col-center mt-5 mb-5">
            <div class="ethdenver2019-texts-headers">
              PRIZES
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-3 ethdenver2019-col-center">
            <div class="peekicorn">
              <img src="{% static 'v2/images/event_ethdenver2019/peeking-bufficorn.png' %}" class="rounded mx-auto d-block">
            </div>
            <div class="ethdenver2019-col-prize-img">
              <img src="{% static 'v2/images/event_ethdenver2019/keepkey.png' %}" class="rounded mx-auto d-block">
            </div>
            <div class="ethdenver2019-texts-headers-2">
              KeepKey
            </div>
            <div class="ethdenver2019-texts-normal">
              A hardware wallet that secures bitcoin, ethereum, erc-20 tokens, and many more.
            </div>
          </div>
          <div class="col-3 ethdenver2019-col-center">
            <div class="ethdenver2019-col-prize-img">
              <img src="{% static 'v2/images/event_ethdenver2019/price_2.png' %}">
            </div>
            <div class="ethdenver2019-texts-headers-2">
              Limited Edition Kudos
            </div>
            <div class="ethdenver2019-texts-normal">
              A special, limited edition Kudos you won’t be able to find anywhere else!
            </div>
          </div>
          <div class="col-3 ethdenver2019-col-center">
            <div class="ethdenver2019-col-prize-img">
              <img src="{% static 'v2/images/event_ethdenver2019/uport.png' %}" class="rounded mx-auto d-block">
            </div>
            <div class="bufficorn">
              <img src="{% static 'v2/images/event_ethdenver2019/bufficorn2.png' %}" class="rounded mx-auto d-block">
            </div>
            <div class="ethdenver2019-texts-headers-2">
              uPort Attestation
            </div>
            <div class="ethdenver2019-texts-normal">
              Proof that you’ve won the ETHDenver prize... on the blockchain.
            </div>
          </div>
        </div>
        <div class="row text-center mt-5 mb-5">
          <div class="col-12">
            <div class="ethdenver2019-button-getstarted">
              <div class="ethdenver2019-button-getstarted-text">
                Get Started
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container hidden" id="page2">
      <div class="row text-center">
        <div class="ethdenver2019-prog-header col-12">
          <div class="container">
            <div class="row mt-4">
              <div class="col-12">
                <img src="{% static 'v2/images/event_ethdenver2019/ethdenver_logo.png' %}" class="rounded mx-auto d-block">
              </div>
            </div>
            <div class="row mt-5 mb-5">
              <div class="col-12">
                <div class="ethdenver2019-texts-headers">
                  SET CHALLENGES
                </div>
              </div>
            </div>
            <div class="row mt-5 mb-5">
              <div class="col-12">
                <img src="{% avatar_url profile %}" width="100px" height="100px" class="circle-cutter">
              </div>
              <div class="col-12 ethdenver2019-texts-white">
                {{ profile.handle }}
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="ethdenver2019-kudos mt-4 mb-4 align-middle text-center">
        <div class="ethdenver2019-texts-headers ethdenver2019-texts-black">
          YOUR BUFFICORN KUDOS
        </div>
        <div class="ethdenver2019-texts-black mb-5">
          Click on each Kudos for more details.
        </div>

        <div class="container mt-5">
          {% for kudos_rows in kudos_selection %}
          <div class="row">
            {% for kudos in kudos_rows %}
            <div class="col-xs-12 col-sm-6 col-lg-3 mb-3">
              <div class="kd-card kd-extended {% if kudos.transfer %} flip-card {%endif%}" aria-haspopup="true" tabindex="0">
                <div class="flip-card__flipper">
                  <div class="flip-card__hold flip-card__front">
                    <div>
                      <img src="{% static kudos.kudos.image %}" alt="{{ kudos.kudos.name|humanize_name }}" class="img-thumbnail border-transparent kd-shadow received-equals-{{ kudos.received }}" width="250">
                    </div>
                    <div class="kd-content">
                      <div>
                        <a href="/kudos/{{ kudos.kudos.id }}/{{ kudos.kudos.name }}" class="kd-title" title="{% trans 'Go to ' %}{{ kudos.kudos.name|humanize_name }}" tabindex="0">
                          {{ kudos.kudos.name|humanize_name }} {% if kudos.received %}    <i class="fas fa-check-circle"></i>  {% endif %}
                        </a>
                      </div>
                      <p>
                        {{ kudos.kudos.description|truncatechars:60 }}
                      </p>
                    </div>
                  </div>
                  {% if kudos.transfer %}
                  <div class="content-hover flip-card__hold flip-card__back">
                    <div class="d-flex flex-row">
                      <img src="{% avatar_url kudos.transfer.from_username  %}" alt="{{ kudos.transfer.from_username }}" class="rounded-circle mr-3" width="45" height="45">
                      <div class="d-flex flex-column">
                        <a href="{% filter trim %}{% url 'profile' kudos.transfer.from_username %}{% endfilter %}" title="{% trans 'go to profile' %}">{{kudos.transfer.from_username}}</a>
                        <time datetime="{{kudos.transfer.created_on|date:'c'}}" title="{{kudos.transfer.created_on}}">
                          {{kudos.transfer.created_on|naturaltime}}
                        </time>
                      </div>
                    </div>
                    {% if kudos.transfer.comments_public %}
                    <div class="bubble">
                      <p>{{kudos.transfer.comments_public}}</p>
                    </div>
                    {% endif %}
                    <div class="flip-card__extra-data">
                      {% if kudos.transfer.github_url %}
                        <a href="{{kudos.transfer.github_url}}" target="_blank">{% trans 'Issue url' %}</a>
                      {% endif %}
                      <a title="{% trans 'tx in etherscan' %}" href="{% if not kudos.transfer.network == 'mainnet' %}https://{{ kudos.transfer.network }}.etherscan.io/tx/{{ kudos.transfer.txid }}{% else %}https://etherscan.io/tx/{{ kudos.transfer.txid }}{% endif %}" target="_blank" class="mb-1">{{ kudos.transfer.txid|humanize_address }}</a>
                    </div>
                  </div>
                  {% endif %}
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </body>
</html>
