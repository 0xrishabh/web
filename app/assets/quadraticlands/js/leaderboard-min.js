function interfaceResetDirection(){document.querySelectorAll("th").forEach((t=>{t.removeAttribute("data-direction")}))}function fetchGraph(t,e,n){console.debug("orderBy:"+t),console.debug("orderDirection:"+e),console.debug("first:"+n);var r=`{\n\t\ttokenClaims(\n\t\t\tfirst: ${n},\n\t\t\torderBy : ${t},\n\t\t\torderDirection : ${e}\n\t\t\t)\n\t\t{\n\t\t\tid,\n\t\t\tcount,\n\t\t\tuser_id,\n\t\t\taccount\n\t\t}\n\t}`;fetch("https://api.thegraph.com/subgraphs/name/nopslip/wolf-vision",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:r})}).then((t=>t.json())).then((t=>{console.log(t.data.tokenClaims),render(t.data.tokenClaims)})).catch((t=>console.error(t)))}function render(t){console.log("RENDER DATA TO TBODY");let e=document.getElementById("tbody");e.innerHTML="",t.forEach((t=>{var n=document.createElement("tr"),r=document.createElement("td");r.innerHTML='<a href="/quadraticlands/profile/'+t.account+'">'+shortenAdress(t.account)+"</a>",n.appendChild(r);var o=document.createElement("td");o.innerHTML=t.user_id,n.appendChild(o);var c=document.createElement("td");c.innerHTML=t.id,n.appendChild(c),e.appendChild(n)}))}document.addEventListener("DOMContentLoaded",(function(){let t=5,e=document.querySelectorAll("th");e.forEach((e=>{e.addEventListener("click",(()=>{e.hasAttribute("data-direction")?"asc"==e.dataset.direction?(interfaceResetDirection(),e.dataset.direction="desc"):(interfaceResetDirection(),e.dataset.direction="asc"):(interfaceResetDirection(),e.dataset.direction="desc"),fetchGraph(e.dataset.by,e.dataset.direction,t)}))}));document.getElementById("more").addEventListener("click",(()=>{t+=5,e.forEach((t=>{t.hasAttribute("data-direction")&&(by=t.dataset.by,direction=t.dataset.direction)})),fetchGraph(by,direction,t)})),fetchGraph("account","desc",5)}));
//# sourceMappingURL=leaderboard-min.js.map